{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46991464-598feb9117dc71abe61f88b6f';\nconst BASE_URL = 'https://pixabay.com/api/';\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15`;\n  const response = await fetch(url);\n\n  if (!response.ok) {\n    throw new Error('Failed to fetch images');\n  }\n\n  const data = await response.json();\n  return data.hits.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      comments,\n      views,\n      downloads,\n    }) => ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      comments,\n      views,\n      downloads,\n    })\n  );\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function createGalleryMarkup(images) {\n  const galleryContainer = document.querySelector('.image-gallery');\n  galleryContainer.innerHTML = images\n    .map(\n      image => `\n        <div class=\"image-item\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" class=\"gallery-img\" />\n            </a>\n            <div class=\"image-info\">\n                <h5 class =\"text\"> <span class=\"icon-data\">üíó Likes: ${image.likes} </span></h5>\n                <h5 class =\"text\"> <span class=\"icon-data\">üó®Ô∏è Comments: ${image.comments}</span></h5>\n                <h5 class =\"text\"><span class=\"icon-data\">üëÄ Views: ${image.views}</span></h5>\n                <h5 class =\"text\"><span class=\"icon-data\">‚¨áÔ∏è Downloads: ${image.downloads}</span></h5>\n            </div>\n        </div>\n    `\n    )\n    .join('');\n}\n\nexport function displayError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'bottomCenter',\n    color: 'red',\n  });\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { createGalleryMarkup, displayError } from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.search-form');\nconst galleryContainer = document.querySelector('.image-gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const query = searchForm.querySelector('.search-form-input')?.value.trim();\n\n  if (!query) {\n    displayError('Please enter a valid search query');\n    return;\n  }\n\n  loader.style.display = 'block';\n\n  try {\n    galleryContainer.innerHTML = '';\n    const images = await fetchImages(query);\n\n    if (images.length === 0) {\n      iziToast.show({\n        title: 'No results found',\n        message: 'Try a different search term',\n        color: 'red',\n        position: 'bottomCenter',\n      });\n    } else {\n      createGalleryMarkup(images);\n      lightbox = new SimpleLightbox('.image-gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    }\n  } catch (error) {\n    displayError('An error occurred while fetching images. Please try again.');\n  } finally {\n    loader.style.display = 'none';\n  }\n\n  searchForm.reset();\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","webformatURL","largeImageURL","tags","likes","comments","views","downloads","createGalleryMarkup","images","galleryContainer","image","displayError","message","iziToast","searchForm","loader","lightbox","event","_a","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BACV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,uEACKE,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAI1C,OADa,MAAMA,EAAS,QAChB,KAAK,IACf,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,CACN,KAAW,CACL,aAAAN,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,CACN,EACA,CACA,CC7BO,SAASC,EAAoBC,EAAQ,CAC1C,MAAMC,EAAmB,SAAS,cAAc,gBAAgB,EAChEA,EAAiB,UAAYD,EAC1B,IACCE,GAAS;AAAA;AAAA,uBAEQA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,uEAGKA,EAAM,KAAK;AAAA,2EACPA,EAAM,QAAQ;AAAA,sEACnBA,EAAM,KAAK;AAAA,0EACPA,EAAM,SAAS;AAAA;AAAA;AAAA,KAIpF,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAaC,EAAS,CACpCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,eACV,MAAO,KACX,CAAG,CACH,CCtBA,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDL,EAAmB,SAAS,cAAc,gBAAgB,EAC1DM,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEJF,EAAW,iBAAiB,SAAU,MAAMG,GAAS,OACnDA,EAAM,eAAc,EAEpB,MAAMpB,GAAQqB,EAAAJ,EAAW,cAAc,oBAAoB,IAA7C,YAAAI,EAAgD,MAAM,OAEpE,GAAI,CAACrB,EAAO,CACVc,EAAa,mCAAmC,EAChD,MACD,CAEDI,EAAO,MAAM,QAAU,QAEvB,GAAI,CACFN,EAAiB,UAAY,GAC7B,MAAMD,EAAS,MAAMZ,EAAYC,CAAK,EAElCW,EAAO,SAAW,EACpBK,EAAS,KAAK,CACZ,MAAO,mBACP,QAAS,8BACT,MAAO,MACP,SAAU,cAClB,CAAO,GAEDN,EAAoBC,CAAM,EAC1BQ,EAAW,IAAIG,EAAe,mBAAoB,CAChD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,CAAO,EACDH,EAAS,QAAO,EAEnB,MAAe,CACdL,EAAa,4DAA4D,CAC7E,QAAY,CACRI,EAAO,MAAM,QAAU,MACxB,CAEDD,EAAW,MAAK,CAClB,CAAC"}